@tailwind base;
@tailwind components;
@tailwind utilities;

/* Menu Container */
.menu-container {
  @apply bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700;
  @apply py-2 min-w-[280px] max-w-[360px];
  @apply animate-fade-in;
  @apply backdrop-blur-sm;
  @apply outline-none;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Inter', Roboto, sans-serif;
  position: fixed !important;
  z-index: 2147483647 !important;
}

/* Theme variants */
.menu-container.theme-light {
  @apply bg-white border-gray-200;
}

.menu-container.theme-dark {
  @apply bg-gray-800 border-gray-700;
}

/* Menu Item */
.menu-item {
  @apply px-4 py-2.5 text-sm;
  @apply cursor-pointer select-none;
  @apply transition-all duration-150 ease-out;
  @apply outline-none;
  min-height: 36px;
}

.menu-item-content {
  @apply flex items-center justify-between w-full;
}

.menu-item-icon {
  @apply w-4 h-4 mr-3 flex-shrink-0;
  @apply text-gray-500 dark:text-gray-400;
}

.menu-item-label {
  @apply flex-1 text-left;
  @apply text-gray-700 dark:text-gray-300;
}

.menu-item-shortcut {
  @apply text-xs text-gray-400 dark:text-gray-500;
  @apply ml-4 font-mono;
}

/* Menu Item States */
.menu-item:not(.menu-item-disabled):hover,
.menu-item-focused:not(.menu-item-disabled) {
  @apply bg-blue-50 dark:bg-blue-900/20;
}

.menu-item:not(.menu-item-disabled):hover .menu-item-label,
.menu-item-focused:not(.menu-item-disabled) .menu-item-label {
  @apply text-blue-700 dark:text-blue-300;
}

.menu-item:not(.menu-item-disabled):hover .menu-item-icon,
.menu-item-focused:not(.menu-item-disabled) .menu-item-icon {
  @apply text-blue-600 dark:text-blue-400;
}

.menu-item:not(.menu-item-disabled):active {
  @apply bg-blue-100 dark:bg-blue-900/40;
  transform: scale(0.98);
}

.menu-item-disabled {
  @apply opacity-50 cursor-not-allowed;
}

.menu-item-disabled .menu-item-label {
  @apply text-gray-400 dark:text-gray-600;
}

.menu-item-disabled .menu-item-icon {
  @apply text-gray-300 dark:text-gray-700;
}

/* Focus ring for accessibility */
.menu-item-focused:not(.menu-item-disabled) {
  @apply ring-2 ring-blue-500 ring-offset-1 ring-offset-white dark:ring-offset-gray-800;
  @apply rounded-md;
}

/* Menu Separator */
.menu-separator {
  @apply border-t border-gray-200 dark:border-gray-600 my-1.5 mx-2;
  height: 1px;
}

/* Animation for menu appearance */
@keyframes fade-in {
  from {
    opacity: 0;
    transform: scale(0.95) translateY(-8px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

@keyframes fade-out {
  from {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
  to {
    opacity: 0;
    transform: scale(0.95) translateY(-8px);
  }
}

.animate-fade-in {
  animation: fade-in 0.2s cubic-bezier(0.16, 1, 0.3, 1);
}

.animate-fade-out {
  animation: fade-out 0.15s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Smooth transitions */
.menu-item {
  transition: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .menu-container {
    @apply border-2 border-gray-900 dark:border-gray-100;
  }
  
  .menu-item-focused:not(.menu-item-disabled) {
    @apply ring-4 ring-blue-600;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .animate-fade-in,
  .animate-fade-out,
  .menu-item {
    animation: none !important;
    transition: none !important;
  }
}

/* Legacy support for old menu class */
.customclick-menu {
  /* Deprecated: Use .menu-container instead */
  @apply bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700;
  @apply py-2 min-w-[200px] max-w-[300px];
  @apply animate-fade-in;
}

.customclick-menu p {
  @apply text-gray-700 dark:text-gray-300 text-sm;
}
